<html>
    <head>
        <title>Uno dos Gugu</title>
        <meta charset="utf8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="./css/style.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
        <script>
            const socket = io('http://localhost:3000');

            var infoUsuario = {
                apelido:    '',
                id:         '',
                conectado:  false
            }

            socket.on('connect', () => {
                console.log("Conectado ao servidor...");
            })

            socket.on('infoUsuario', (info) => {
                console.log("Preenchendo meus dados com recebimento do servidor...");
                let apelido = info[1];
                let id = info[0];
                infoUsuario.apelido         = apelido;
                infoUsuario.id              = id;
                infoUsuario.conectado       = true;
            })

            function enviaApelido() {
                let apelido = document.getElementById('apelido').value;
                socket.emit('novoUsuario', apelido);
                
                document.getElementById('pseudo-login').style.display = "none";

                document.getElementById('room').style.display = "initial";

            }

            function salaExistente() {
                
            }

            function criarSala() {

            }



        </script>
    </head>
    <body>

        <div style="margin-top: 5%;"></div>
        
        <div class="container-fluid" id="pseudo-login">
                <label for="apelido">Apelido:</label>
                <input type="text" id="apelido" class="form-control">
                <button class="btn btn-dark" onclick="enviaApelido()">ENTRAR</button>
            </div>
        </div>

        <div class="container-fluid" id="room" style="display: none">

            <label for="idSala">ID da Sala:</label>
            <input type="text" id="idSala" class="form-control" style="margin-bottom: 5%;">
            <button class="btn btn-dark" onclick="salaExistente()">Sala existente</button>
            <button class="btn btn-dark" style="margin-left: 10%" onclick="criaSala()">Criar sala</button>

        </div>

        



        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    </body>
</html>